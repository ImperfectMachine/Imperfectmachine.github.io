<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>Imperfect Machine | Lyrics</title>
  <meta name="description" content="Lyrics and song credits for Imperfect Machine (IMPΞRFECT MACH1NE).">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root {
      --bg: #050509;
      --bg-soft: #10111a;
      --card: #0d0f1b;
      --accent: #63e0ff;
      --text-main: #f5f5ff;
      --text-muted: #9b9bb8;
      --border: #262a40;
      --body-bg: radial-gradient(circle at top, #101020, #02030b);
      --header-bg:
        radial-gradient(circle at 10% 0%, rgba(255,51,102,.22), transparent 55%),
        radial-gradient(circle at 90% 0%, rgba(99,224,255,.25), transparent 60%),
        linear-gradient(to bottom, #050510, #02030b);
    }

    [data-theme="light"] {
      --bg: #f4f4fb;
      --bg-soft: #ffffff;
      --card: #ffffff;
      --accent: #245bff;
      --text-main: #111322;
      --text-muted: #555978;
      --border: #d2d6ea;
      --body-bg: linear-gradient(to bottom, #f6f7ff, #e4e7ff);
      --header-bg: linear-gradient(to bottom, #e7e9ff, #d5dafc);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--body-bg);
      color: var(--text-main);
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    header {
      padding: 3.2rem 1.5rem 2rem;
      text-align: center;
      background: var(--header-bg);
      border-bottom: 1px solid rgba(99,224,255,.15);
    }

    .tagline {
      opacity: 0.9;
      max-width: 640px;
      margin: 0.9rem auto 0;
      font-size: 0.95rem;
      color: var(--text-muted);
    }

    nav {
      margin-top: 1.5rem;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0.75rem;
    }
    nav a {
      padding: 0.35rem 0.9rem;
      border-radius: 999px;
      border: 1px solid rgba(227,227,255,.25);
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.16em;
      opacity: 0.85;
    }
    nav a:hover { opacity: 1; border-color: rgba(99,224,255,.8); }

    .container {
      max-width: 1040px;
      margin: 0 auto;
      padding: 2.3rem 1.5rem 4rem;
    }

    h2 {
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 1rem;
      color: var(--accent);
      margin-bottom: 0.75rem;
    }
    .section-lead {
      margin-top: 0;
      color: var(--text-muted);
      font-size: 0.95rem;
      max-width: 740px;
    }

    .grid { display: grid; gap: 1.5rem; }
    @media (min-width: 768px) {
      .grid-2 { grid-template-columns: 0.9fr 1.6fr; }
    }

    .card {
      background:
        radial-gradient(circle at top, rgba(99,224,255,.05), transparent 55%),
        var(--card);
      padding: 1.4rem 1.5rem;
      border-radius: 12px;
      border: 1px solid var(--border);
      box-shadow: 0 14px 35px rgba(0,0,0,.65);
    }
    [data-theme="light"] .card {
      box-shadow: 0 10px 24px rgba(15,23,42,0.15);
    }

    .song-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .song-list li { margin-bottom: 0.5rem; }

    .song-button {
      width: 100%;
      text-align: left;
      padding: 0.55rem 0.75rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--bg-soft);
      color: var(--text-main);
      font-size: 0.9rem;
      cursor: pointer;
    }
    .song-button:hover { border-color: var(--accent); }
    .song-button.active {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(99,224,255,0.35);
    }

    .credits-list {
      list-style: none;
      padding-left: 0;
      margin: 0.3rem 0 0.9rem;
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .lyrics-box {
      background: var(--bg-soft);
      border-radius: 8px;
      border: 1px solid var(--border);
      padding: 1rem;
      white-space: pre-wrap;
      font-family: inherit;
      font-size: 0.9rem;
      line-height: 1.6;
      margin-top: 0.4rem;
    }

    .action-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin: 0.2rem 0 0.9rem;
    }
    .action-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.55rem 0.9rem;
      border-radius: 999px;
      border: 1px solid rgba(227,227,255,.22);
      background: rgba(5,5,18,.7);
      color: var(--text-main);
      font-size: 0.85rem;
      letter-spacing: 0.02em;
      cursor: pointer;
      text-decoration: none;
    }
    .action-btn:hover { border-color: rgba(99,224,255,.8); text-decoration: none; }
    [data-theme="light"] .action-btn {
      background: rgba(255,255,255,0.9);
      border-color: rgba(0,0,0,0.08);
    }

    .spotify-embed {
      width: 100%;
      border: 0;
      border-radius: 12px;
      min-height: 152px;
      background: #000;
      margin: 0 0 1rem;
    }

    footer {
      text-align: center;
      font-size: 0.75rem;
      color: var(--text-muted);
      padding: 1.8rem 1rem 2.6rem;
      border-top: 1px solid rgba(38,42,64,.8);
    }

    .theme-toggle {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      width: 2.6rem;
      height: 2.6rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(5,5,18,0.9);
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 14px 30px rgba(0,0,0,.7);
      z-index: 999;
    }
    [data-theme="light"] .theme-toggle {
      background: #ffffff;
      box-shadow: 0 10px 22px rgba(15,23,42,0.2);
    }
  </style>
</head>

<body>
  <header>
    <h1 style="margin:0;">
      <img src="2.png" alt="Imperfect Machine Logo"
           style="max-width:220px; width:70%; height:auto; margin:0 auto; display:block;">
    </h1>

    <p class="tagline">
      Choose a song to view lyrics and credits.
    </p>

    <nav>
      <a href="index.html#top">Home</a>
      <a href="index.html#music">Music</a>
      <a href="lyrics.html">Lyrics</a>
      <a href="index.html#about">About</a>
    </nav>
  </header>

  <main class="container">
    <section>
      <h2>Songs</h2>
      <p class="section-lead">
        Select a track to view its full lyrics and credits. More songs will be added as they’re released.
      </p>

      <div class="grid grid-2">
        <div class="card">
          <h3 style="margin-top:0;">Tracklist</h3>
          <ul class="song-list">
            <li>
              <button class="song-button active" data-song-id="dont-count-on-me">
                Don’t Count On Me (feat. Dead Echoes)
              </button>
            </li>
          </ul>
        </div>

        <div id="songDetail" class="card">
          <h3 id="songTitle" style="margin-top:0;">Don’t Count On Me (feat. Dead Echoes)</h3>

          <div class="action-row" id="songLinks"></div>

          <!-- Spotify player -->
          <iframe
            id="spotifyEmbed"
            class="spotify-embed"
            src="https://open.spotify.com/embed/track/0Tl3yFExWqU5zwJQcF3nAb"
            loading="lazy"
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
          </iframe>

          <h4 style="margin-bottom:0.3rem;">Credits</h4>
          <ul id="creditsList" class="credits-list"></ul>

          <h4 style="margin-bottom:0.3rem;">Lyrics</h4>
          <pre id="lyricsBox" class="lyrics-box"></pre>
        </div>
      </div>
    </section>
  </main>

  <button id="themeToggle" class="theme-toggle" type="button" aria-label="Toggle dark or light mode">☾</button>

  <footer>
    &copy; <span id="year"></span> Imperfect Machine. All rights reserved.
  </footer>

  <script>
    // Theme toggle (synced with homepage)
    (function() {
      const root = document.documentElement;
      const stored = localStorage.getItem('imperfect-theme');
      if (stored === 'light' || stored === 'dark') {
        root.setAttribute('data-theme', stored);
      } else {
        root.setAttribute('data-theme', 'dark');
      }

      function updateToggle() {
        const btn = document.getElementById('themeToggle');
        if (!btn) return;
        const current = root.getAttribute('data-theme') || 'dark';
        if (current === 'dark') {
          btn.textContent = '☾';
          btn.setAttribute('aria-label', 'Switch to light mode');
        } else {
          btn.textContent = '☼';
          btn.setAttribute('aria-label', 'Switch to dark mode');
        }
      }

      window.addEventListener('DOMContentLoaded', function() {
        const btn = document.getElementById('themeToggle');
        if (!btn) return;
        updateToggle();

        btn.addEventListener('click', function() {
          const current = root.getAttribute('data-theme') === 'light' ? 'light' : 'dark';
          const next = current === 'dark' ? 'light' : 'dark';
          root.setAttribute('data-theme', next);
          localStorage.setItem('imperfect-theme', next);
          updateToggle();
        });

        const yearSpan = document.getElementById('year');
        if (yearSpan) yearSpan.textContent = new Date().getFullYear();
      });
    })();

    const songs = {
      "dont-count-on-me": {
        title: "Don’t Count On Me (feat. Dead Echoes)",
        spotify: "https://open.spotify.com/track/0Tl3yFExWqU5zwJQcF3nAb?si=fC1wJzFnQ8CI4OVCgmCNKg&context=spotify%3Aalbum%3A0N7R9Nw2RG0chBRPU5gsDB",
        spotifyEmbed: "https://open.spotify.com/embed/track/0Tl3yFExWqU5zwJQcF3nAb",
        apple: "https://music.apple.com/us/album/dont-count-on-me-feat-dead-echoes/1857400042?i=1857400043",
        youtube: "https://youtu.be/VgYaynOu25k?si=xToHVs2j9PVtWMyK",
        credits: [
          "Written By: Matthew Smith",
          "Performed By: Matthew Smith & Bryan Coulter",
          "Produced By: Matthew Smith & Imperfect Machine (AI-Assisted)",
          "Mastered By: David Sayago"
        ],
        lyrics: `VERSE 1:
We built our love in this life we made 
Felt good with everything 
Then we got hit with a sudden change 
Near the end 
Every fight I’m left with all the blame 
I gave you everything 
Still you just chose to run away 
In the end 

PRECHORUS:
It’s so hard to breathe when you can’t get away 

CHORUS:
All my life 
I’ve always tried to be the voice of reason 
Now this time 
Don’t count on me, count on me
All my life 
You tried to say there was no choice for leaving 
Now this time 
Don’t count on me, count on me 

VERSE 2: 
I’m all played out from this masquerade 
You made up everything
So now I suffer from the pain 
In your head 

PRECHORUS:
It’s so hard to breathe when you can’t get away 

CHORUS:
All my life 
I’ve always tried to be the voice of reason 
Now this time 
Don’t count on me, count on me
All my life 
You tried to say there was no choice for leaving 
Now this time 
Don’t count on me, count on me 

BRIDGE:
You wanted more when I gave you everything 
Your finding comfort in all your lies 
Look what you’ve done with all your hate yea
You should have just turned and walked away 
In the end
In the end 
In the end

CHORUS:
All my life 
I’ve always tried to be the voice of reason 
Now this time 
Don’t count on me, count on me
All my life 
You tried to say there was no choice for leaving 
Now this time 
Don’t count on me, count on me 

OUTRO:
Don’t count on me
Don’t count on me
Don’t count on me`
      }
    };

    function renderSong(id) {
      const song = songs[id];
      if (!song) return;

      const titleEl = document.getElementById('songTitle');
      const creditsEl = document.getElementById('creditsList');
      const lyricsEl = document.getElementById('lyricsBox');
      const linksEl = document.getElementById('songLinks');
      const spotifyEmbedEl = document.getElementById('spotifyEmbed');

      if (titleEl) titleEl.textContent = song.title;

      if (linksEl) {
        linksEl.innerHTML = `
          <a class="action-btn" href="${song.spotify}" target="_blank" rel="noopener">Listen on Spotify</a>
          <a class="action-btn" href="${song.apple}" target="_blank" rel="noopener">Listen on Apple Music</a>
          <a class="action-btn" href="${song.youtube}" target="_blank" rel="noopener">Watch on YouTube</a>
        `;
      }

      if (spotifyEmbedEl) {
        spotifyEmbedEl.src = song.spotifyEmbed;
      }

      if (creditsEl) {
        creditsEl.innerHTML = song.credits.map(line => `<li>${line}</li>`).join("");
      }

      if (lyricsEl) {
        lyricsEl.textContent = song.lyrics;
      }

      document.querySelectorAll('.song-button').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.songId === id);
      });
    }

    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.song-button').forEach(btn => {
        btn.addEventListener('click', function() {
          renderSong(this.dataset.songId);
        });
      });

      renderSong('dont-count-on-me');
    });
  </script>
</body>
</html>
